{
  "gameState": {
    "screeptEnv": {
      "vars": {
        "turn": { "type": "number", "value": 110 },
        "money": { "type": "number", "value": 100 },
        "__statusLine": {
          "type": "func",
          "value": {
            "type": "binary_op",
            "x": {
              "type": "binary_op",
              "x": {
                "type": "binary_op",
                "x": {
                  "type": "binary_op",
                  "x": {
                    "type": "binary_op",
                    "x": {
                      "type": "literal",
                      "value": { "type": "text", "value": "Turn: " }
                    },
                    "op": "+",
                    "y": {
                      "type": "var",
                      "identifier": { "type": "literal", "value": "turn" }
                    }
                  },
                  "op": "+",
                  "y": {
                    "type": "literal",
                    "value": { "type": "text", "value": ". You have " }
                  }
                },
                "op": "+",
                "y": {
                  "type": "var",
                  "identifier": { "type": "literal", "value": "money" }
                }
              },
              "op": "+",
              "y": {
                "type": "literal",
                "value": { "type": "text", "value": " coins. Stamina: " }
              }
            },
            "op": "+",
            "y": {
              "type": "var",
              "identifier": { "type": "literal", "value": "stamina" }
            }
          }
        },
        "stamina": { "type": "number", "value": 100 },
        "r1": { "type": "number", "value": 2 },
        "inv_wood": { "type": "number", "value": 0 }
      },
      "procedures": {},
      "output": [
        { "ts": 1693153018990, "value": "You slept" },
        { "ts": 1693153401576, "value": "You chopped 3 wood." },
        { "ts": 1693153442391, "value": "You chopped 2 wood." },
        { "ts": 1693153443096, "value": "You chopped 1 wood." },
        { "ts": 1693153443575, "value": "You chopped 4 wood." },
        { "ts": 1693153444032, "value": "You chopped 2 wood." },
        { "ts": 1693153444520, "value": "You chopped 2 wood." },
        { "ts": 1693153445016, "value": "You chopped 4 wood." },
        { "ts": 1693153445480, "value": "You chopped 3 wood." },
        { "ts": 1693153446072, "value": "You chopped 3 wood." },
        { "ts": 1693153447129, "value": "You chopped 4 wood." },
        { "ts": 1693153450924, "value": "You chopped 2 wood." }
      ]
    },
    "dialogStack": ["forest", "start", "farm", "start", "farm", "start"]
  },
  "dialogs": {
    "start": {
      "id": "start",
      "text": {
        "type": "literal",
        "value": { "type": "text", "value": "You are in the Village." }
      },
      "options": [
        {
          "id": "417cdc3d-b9b5-40c3-b460-57c14b9ea1c7",
          "actions": [
            {
              "type": "go_dialog",
              "destination": "farm",
              "id": "6566e759-0b70-4f99-b4d4-0d1226485456"
            }
          ],
          "text": {
            "type": "literal",
            "value": { "type": "text", "value": "Go to your farm" }
          }
        },
        {
          "id": "bd1bf57d-8c74-4110-817c-48af472bd822",
          "actions": [
            {
              "type": "go_dialog",
              "destination": "forest",
              "id": "b5aff1b4-9823-42fa-96a6-d178543d87c5"
            }
          ],
          "text": {
            "type": "literal",
            "value": { "type": "text", "value": "Go to the forest" }
          }
        }
      ]
    },
    "farm": {
      "id": "farm",
      "text": {
        "type": "literal",
        "value": { "type": "text", "value": "You are at your farm." }
      },
      "options": [
        {
          "id": "d0452f9c-ad6f-43a0-9b69-98a8b8eca422",
          "actions": [
            {
              "type": "go_dialog",
              "destination": "home",
              "id": "2bd56787-f1af-4507-8a95-3ddcde840dbd"
            }
          ],
          "text": {
            "type": "literal",
            "value": { "type": "text", "value": "Go to your home" }
          }
        },
        {
          "id": "4305746d-5afe-403a-bba7-899d2c28bac1",
          "actions": [
            {
              "type": "go_dialog",
              "destination": "start",
              "id": "2372f5e9-82e3-4db6-9ccb-63ce76c90485"
            }
          ],
          "text": {
            "type": "literal",
            "value": { "type": "text", "value": "Go back to the Village" }
          }
        },
        {
          "id": "1b6f1d5f-211f-4c79-a539-88815b17a7bd",
          "actions": [
            { "type": "go back", "id": "ae82ac97-2526-44b3-a0aa-5c354f4ab44a" }
          ],
          "text": {
            "type": "literal",
            "value": { "type": "text", "value": "Go Back" }
          }
        }
      ]
    },
    "home": {
      "id": "home",
      "text": {
        "type": "literal",
        "value": { "type": "text", "value": "You are home" }
      },
      "options": [
        {
          "id": "9e6ce176-9979-4b5c-9569-95c0f1a9f232",
          "actions": [
            { "type": "go back", "id": "a87f581d-51d6-44ff-86c3-89ede1ea6cdc" }
          ],
          "text": {
            "type": "literal",
            "value": { "type": "text", "value": "Go Back" }
          }
        },
        {
          "id": "c9ca0198-a8ae-47ab-a443-8a275c2bbf9c",
          "actions": [
            {
              "type": "screept",
              "value": {
                "type": "block",
                "statements": [
                  {
                    "type": "print",
                    "value": {
                      "type": "literal",
                      "value": { "type": "text", "value": "You slept" }
                    }
                  },
                  {
                    "type": "bind",
                    "identifier": { "type": "literal", "value": "turn" },
                    "value": {
                      "type": "binary_op",
                      "x": {
                        "type": "var",
                        "identifier": { "type": "literal", "value": "turn" }
                      },
                      "op": "+",
                      "y": {
                        "type": "literal",
                        "value": { "type": "number", "value": 10 }
                      }
                    }
                  }
                ]
              },
              "id": "e6d6a339-2702-4724-87bb-c3795ded1162"
            }
          ],
          "text": {
            "type": "literal",
            "value": { "type": "text", "value": "Sleep 10 turns" }
          }
        }
      ]
    },
    "forest": {
      "id": "forest",
      "text": {
        "type": "literal",
        "value": { "type": "text", "value": "You are in the forest" }
      },
      "options": [
        {
          "id": "c09b2de9-25bf-40f2-b73e-3d956a866516",
          "actions": [
            {
              "type": "screept",
              "value": {
                "type": "block",
                "statements": [
                  {
                    "type": "random",
                    "identifier": { "type": "literal", "value": "r1" },
                    "from": {
                      "type": "literal",
                      "value": { "type": "number", "value": 1 }
                    },
                    "to": {
                      "type": "literal",
                      "value": { "type": "number", "value": 4 }
                    }
                  },
                  {
                    "type": "bind",
                    "identifier": { "type": "literal", "value": "inv_wood" },
                    "value": {
                      "type": "binary_op",
                      "x": {
                        "type": "var",
                        "identifier": { "type": "literal", "value": "inv_wood" }
                      },
                      "op": "+",
                      "y": {
                        "type": "var",
                        "identifier": { "type": "literal", "value": "r1" }
                      }
                    }
                  },
                  {
                    "type": "bind",
                    "identifier": { "type": "literal", "value": "stamina" },
                    "value": {
                      "type": "binary_op",
                      "x": {
                        "type": "var",
                        "identifier": { "type": "literal", "value": "stamina" }
                      },
                      "op": "-",
                      "y": {
                        "type": "literal",
                        "value": { "type": "number", "value": 10 }
                      }
                    }
                  },
                  {
                    "type": "bind",
                    "identifier": { "type": "literal", "value": "turn" },
                    "value": {
                      "type": "binary_op",
                      "x": {
                        "type": "var",
                        "identifier": { "type": "literal", "value": "turn" }
                      },
                      "op": "+",
                      "y": {
                        "type": "literal",
                        "value": { "type": "number", "value": 10 }
                      }
                    }
                  },
                  {
                    "type": "print",
                    "value": {
                      "type": "binary_op",
                      "x": {
                        "type": "binary_op",
                        "x": {
                          "type": "literal",
                          "value": { "type": "text", "value": "You chopped " }
                        },
                        "op": "+",
                        "y": {
                          "type": "var",
                          "identifier": { "type": "literal", "value": "r1" }
                        }
                      },
                      "op": "+",
                      "y": {
                        "type": "literal",
                        "value": { "type": "text", "value": " wood." }
                      }
                    }
                  }
                ]
              },
              "id": "2c7c0c49-9ca7-4652-a310-0b4d83e7e890"
            }
          ],
          "text": {
            "type": "literal",
            "value": { "type": "text", "value": "Chop wood" }
          },
          "condition": {
            "type": "binary_op",
            "op": ">",
            "x": {
              "type": "var",
              "identifier": { "type": "literal", "value": "stamina" }
            },
            "y": {
              "type": "literal",
              "value": { "type": "number", "value": 9 }
            }
          }
        }
      ]
    }
  }
}
