{
  "gameState": {
    "screeptEnv": {
      "vars": {
        "turn": { "type": "number", "value": 110 },
        "money": { "type": "number", "value": 100 },
        "__statusLine": {
          "type": "func",
          "value": {
            "type": "binary_op",
            "x": {
              "type": "binary_op",
              "x": {
                "type": "binary_op",
                "x": {
                  "type": "binary_op",
                  "x": {
                    "type": "binary_op",
                    "x": {
                      "type": "literal",
                      "value": { "type": "text", "value": "Turn: " }
                    },
                    "op": "+",
                    "y": {
                      "type": "var",
                      "identifier": { "type": "literal", "value": "turn" }
                    }
                  },
                  "op": "+",
                  "y": {
                    "type": "literal",
                    "value": { "type": "text", "value": ". You have " }
                  }
                },
                "op": "+",
                "y": {
                  "type": "var",
                  "identifier": { "type": "literal", "value": "money" }
                }
              },
              "op": "+",
              "y": {
                "type": "literal",
                "value": { "type": "text", "value": " coins. Stamina: " }
              }
            },
            "op": "+",
            "y": {
              "type": "var",
              "identifier": { "type": "literal", "value": "stamina" }
            }
          }
        },
        "stamina": { "type": "number", "value": 100 },
        "r1": { "type": "number", "value": 2 },
        "inv_wood": { "type": "number", "value": 0 }
      },
      "procedures": {},
      "output": [
        { "ts": 1693153018990, "value": "You slept" },
        { "ts": 1693153401576, "value": "You chopped 3 wood." },
        { "ts": 1693153442391, "value": "You chopped 2 wood." },
        { "ts": 1693153443096, "value": "You chopped 1 wood." },
        { "ts": 1693153443575, "value": "You chopped 4 wood." },
        { "ts": 1693153444032, "value": "You chopped 2 wood." },
        { "ts": 1693153444520, "value": "You chopped 2 wood." },
        { "ts": 1693153445016, "value": "You chopped 4 wood." },
        { "ts": 1693153445480, "value": "You chopped 3 wood." },
        { "ts": 1693153446072, "value": "You chopped 3 wood." },
        { "ts": 1693153447129, "value": "You chopped 4 wood." },
        { "ts": 1693153450924, "value": "You chopped 2 wood." }
      ]
    },
    "dialogStack": ["forest", "start", "farm", "start", "farm", "start"]
  },
  "dialogs": {
    "start": {
      "id": "start",
      "text": {
        "type": "literal",
        "value": { "type": "text", "value": "You are in the Village." }
      },
      "options": [
        {
          "id": "56718eae-a984-4960-8ea9-de71f2a68cc9",
          "actions": [
            {
              "type": "go_dialog",
              "destination": "farm",
              "id": "4b0b16dd-9503-431e-8539-41b83732a178"
            }
          ],
          "text": {
            "type": "literal",
            "value": { "type": "text", "value": "Go to your farm" }
          }
        },
        {
          "id": "5fa524e9-49eb-4874-8cae-8297fb739ab1",
          "actions": [
            {
              "type": "go_dialog",
              "destination": "forest",
              "id": "55efc3cc-7b81-4caf-b3c1-e32481ef5f3b"
            }
          ],
          "text": {
            "type": "literal",
            "value": { "type": "text", "value": "Go to the forest" }
          }
        }
      ]
    },
    "farm": {
      "id": "farm",
      "text": {
        "type": "literal",
        "value": { "type": "text", "value": "You are at your farm." }
      },
      "options": [
        {
          "id": "f7b96dbb-a616-4838-8d26-411928ccd3f8",
          "actions": [
            {
              "type": "go_dialog",
              "destination": "home",
              "id": "ea3a8d3e-73bd-48df-b080-eaadb61fa8a5"
            }
          ],
          "text": {
            "type": "literal",
            "value": { "type": "text", "value": "Go to your home" }
          }
        },
        {
          "id": "854e9e3c-65dd-45d5-8403-50077b116109",
          "actions": [
            {
              "type": "go_dialog",
              "destination": "start",
              "id": "2d4c2f19-35bf-4f09-b86d-e44c4082c814"
            }
          ],
          "text": {
            "type": "literal",
            "value": { "type": "text", "value": "Go back to the Village" }
          }
        },
        {
          "id": "860ca9fb-1d4e-4ef7-818c-aac80bcc53b1",
          "actions": [
            { "type": "go back", "id": "00c2e9bc-077e-4a92-bf5a-10fe671d3b92" }
          ],
          "text": {
            "type": "literal",
            "value": { "type": "text", "value": "Go Back" }
          }
        }
      ]
    },
    "home": {
      "id": "home",
      "text": {
        "type": "literal",
        "value": { "type": "text", "value": "You are home" }
      },
      "options": [
        {
          "id": "8bd155c3-20ad-42d2-ad1e-7665e6030eb1",
          "actions": [
            { "type": "go back", "id": "7135694e-6496-4260-a8da-e49acfa636ab" }
          ],
          "text": {
            "type": "literal",
            "value": { "type": "text", "value": "Go Back" }
          }
        },
        {
          "id": "67fb1332-318d-44f8-9eb7-17e50b84d12c",
          "actions": [
            {
              "type": "screept",
              "value": {
                "type": "block",
                "statements": [
                  {
                    "type": "print",
                    "value": {
                      "type": "literal",
                      "value": { "type": "text", "value": "You slept" }
                    }
                  },
                  {
                    "type": "bind",
                    "identifier": { "type": "literal", "value": "turn" },
                    "value": {
                      "type": "binary_op",
                      "x": {
                        "type": "var",
                        "identifier": { "type": "literal", "value": "turn" }
                      },
                      "op": "+",
                      "y": {
                        "type": "literal",
                        "value": { "type": "number", "value": 10 }
                      }
                    }
                  }
                ]
              },
              "id": "ef454783-0854-4b4d-8ff2-c2384ccfc617"
            }
          ],
          "text": {
            "type": "literal",
            "value": { "type": "text", "value": "Sleep 10 turns" }
          }
        }
      ]
    },
    "forest": {
      "id": "forest",
      "text": {
        "type": "literal",
        "value": { "type": "text", "value": "You are in the forest" }
      },
      "options": [
        {
          "id": "4de4a0e2-dad2-4913-a25c-88204d612364",
          "actions": [
            {
              "type": "screept",
              "value": {
                "type": "block",
                "statements": [
                  {
                    "type": "random",
                    "identifier": { "type": "literal", "value": "r1" },
                    "from": {
                      "type": "literal",
                      "value": { "type": "number", "value": 1 }
                    },
                    "to": {
                      "type": "literal",
                      "value": { "type": "number", "value": 4 }
                    }
                  },
                  {
                    "type": "bind",
                    "identifier": { "type": "literal", "value": "inv_wood" },
                    "value": {
                      "type": "binary_op",
                      "x": {
                        "type": "var",
                        "identifier": { "type": "literal", "value": "inv_wood" }
                      },
                      "op": "+",
                      "y": {
                        "type": "var",
                        "identifier": { "type": "literal", "value": "r1" }
                      }
                    }
                  },
                  {
                    "type": "bind",
                    "identifier": { "type": "literal", "value": "stamina" },
                    "value": {
                      "type": "binary_op",
                      "x": {
                        "type": "var",
                        "identifier": { "type": "literal", "value": "stamina" }
                      },
                      "op": "-",
                      "y": {
                        "type": "literal",
                        "value": { "type": "number", "value": 10 }
                      }
                    }
                  },
                  {
                    "type": "bind",
                    "identifier": { "type": "literal", "value": "turn" },
                    "value": {
                      "type": "binary_op",
                      "x": {
                        "type": "var",
                        "identifier": { "type": "literal", "value": "turn" }
                      },
                      "op": "+",
                      "y": {
                        "type": "literal",
                        "value": { "type": "number", "value": 10 }
                      }
                    }
                  },
                  {
                    "type": "print",
                    "value": {
                      "type": "binary_op",
                      "x": {
                        "type": "binary_op",
                        "x": {
                          "type": "literal",
                          "value": { "type": "text", "value": "You chopped " }
                        },
                        "op": "+",
                        "y": {
                          "type": "var",
                          "identifier": { "type": "literal", "value": "r1" }
                        }
                      },
                      "op": "+",
                      "y": {
                        "type": "literal",
                        "value": { "type": "text", "value": " wood." }
                      }
                    }
                  }
                ]
              },
              "id": "21cb198a-6262-4f3d-a3fc-b4e27ef79440"
            }
          ],
          "text": {
            "type": "literal",
            "value": { "type": "text", "value": "Chop wood" }
          },
          "condition": {
            "type": "binary_op",
            "op": ">",
            "x": {
              "type": "var",
              "identifier": { "type": "literal", "value": "stamina" }
            },
            "y": {
              "type": "literal",
              "value": { "type": "number", "value": 9 }
            }
          }
        }
      ]
    }
  }
}
